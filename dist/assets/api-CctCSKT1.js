var i="http://localhost:5000/api";function r(e,n){n=n||{};var a=i+e,u={headers:{"Content-Type":"application/json"}};if(n.headers)for(var t in n.headers)u.headers[t]=n.headers[t];for(var t in n)t!=="headers"&&(u[t]=n[t]);return fetch(a,u).then(function(o){return o.json().then(function(s){if(!o.ok)throw new Error(s.error||"HTTP error! status: "+o.status);return s})}).catch(function(o){throw console.error("API Error ("+e+"):",o),o})}var c={getAll:function(e){e=e||{};var n=[];e.date&&n.push("date="+encodeURIComponent(e.date)),e.restaurantId&&n.push("restaurantId="+encodeURIComponent(e.restaurantId)),e.status&&n.push("status="+encodeURIComponent(e.status));var a="/reservations"+(n.length?"?"+n.join("&"):"");return r(a)},getById:function(e){return r("/reservations/"+e)},create:function(e){return r("/reservations",{method:"POST",body:JSON.stringify(e)})},update:function(e,n){return r("/reservations/"+e,{method:"PUT",body:JSON.stringify(n)})},delete:function(e){return r("/reservations/"+e,{method:"DELETE"})},deleteAll:function(){return r("/reservations",{method:"DELETE"})}},d={getAll:function(e){e=e||{};var n=[];e.location&&n.push("location="+encodeURIComponent(e.location)),e.cuisine&&n.push("cuisine="+encodeURIComponent(e.cuisine)),e.priceRange&&n.push("priceRange="+encodeURIComponent(e.priceRange));var a="/restaurants"+(n.length?"?"+n.join("&"):"");return r(a)},getById:function(e){return r("/restaurants/"+e)},getReservations:function(e){return r("/restaurants/"+e+"/reservations")},getLocations:function(){return r("/restaurants/meta/locations")},getCuisines:function(){return r("/restaurants/meta/cuisines")}};function h(e,n){n=n||"",console.error("API Error "+n+":",e);var a={"Failed to fetch":"Sunucuya bağlanılamıyor. İnternet bağlantınızı kontrol edin.","Reservation not found":"Rezervasyon bulunamadı.","Restaurant not found":"Restoran bulunamadı.","Invalid email format":"Geçersiz email formatı.","Invalid phone number format":"Geçersiz telefon numarası formatı.","Reservation date cannot be in the past":"Rezervasyon tarihi geçmiş olamaz.","Missing required fields":"Zorunlu alanlar eksik."},u=a[e.message]||"Bir hata oluştu. Lütfen tekrar deneyin.";return{originalError:e,userMessage:u,shouldRetry:e.message==="Failed to fetch"}}export{d as a,h,c as r};

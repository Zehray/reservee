const i="http://localhost:5000/api";async function r(e,a={}){const n=`${i}${e}`,s={headers:{"Content-Type":"application/json",...a.headers},...a};try{const t=await fetch(n,s),o=await t.json();if(!t.ok)throw new Error(o.error||`HTTP error! status: ${t.status}`);return o}catch(t){throw console.error(`API Error (${e}):`,t),t}}const u={getAll:async(e={})=>{const a=new URLSearchParams;e.date&&a.append("date",e.date),e.restaurantId&&a.append("restaurantId",e.restaurantId),e.status&&a.append("status",e.status);const n=`/reservations${a.toString()?`?${a}`:""}`;return await r(n)},getById:async e=>await r(`/reservations/${e}`),create:async e=>await r("/reservations",{method:"POST",body:JSON.stringify(e)}),update:async(e,a)=>await r(`/reservations/${e}`,{method:"PUT",body:JSON.stringify(a)}),delete:async e=>await r(`/reservations/${e}`,{method:"DELETE"}),deleteAll:async()=>await r("/reservations",{method:"DELETE"})},d=(e,a="")=>{console.error(`API Error ${a}:`,e);const s={"Failed to fetch":"Sunucuya bağlanılamıyor. İnternet bağlantınızı kontrol edin.","Reservation not found":"Rezervasyon bulunamadı.","Restaurant not found":"Restoran bulunamadı.","Invalid email format":"Geçersiz email formatı.","Invalid phone number format":"Geçersiz telefon numarası formatı.","Reservation date cannot be in the past":"Rezervasyon tarihi geçmiş olamaz.","Missing required fields":"Zorunlu alanlar eksik."}[e.message]||"Bir hata oluştu. Lütfen tekrar deneyin.";return{originalError:e,userMessage:s,shouldRetry:e.message==="Failed to fetch"}};export{d as h,u as r};
